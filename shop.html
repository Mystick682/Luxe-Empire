<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Luxe Empire â€” Shop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Poppins&display=swap"
      rel="stylesheet"
    />
    <style>
      body { font-family: 'Poppins', sans-serif; }
      h1,h2,h3,h4 { font-family: 'Playfair Display', serif; }
      .filterBtn.active { background-color: #111; color: #fff; font-weight: 600; }
      #filterSidebar { scrollbar-width: thin; scrollbar-color: #999 transparent; }
      #filterSidebar::-webkit-scrollbar { width: 6px; }
      #filterSidebar::-webkit-scrollbar-thumb { background-color: #999; border-radius: 3px; }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-900 font-sans">
    <!-- Header -->
    <header class="bg-white sticky top-0 z-50 shadow-sm">
      <div class="container mx-auto px-5 flex items-center justify-between h-16">
        <a href="index.html" class="text-lg font-semibold tracking-wide">Luxe Empire</a>
        <nav class="hidden md:flex gap-6 items-center">
          <a href="shop.html" class="hover:underline">Shop</a>
          <a href="about.html" class="hover:underline">About</a>
          <a href="contact.html" class="hover:underline">Contact</a>
        </nav>
        <div class="flex items-center gap-3">
          <button id="cartBtn2" class="p-2 text-xl hover:text-gray-700">ðŸ›’
            <span id="cartCount2" class="text-sm bg-black text-white rounded-full px-2 py-0.5 align-top ml-1">0</span>
          </button>
          <button id="mobileBtn2" class="md:hidden p-2 text-2xl">â˜°</button>
        </div>
      </div>
    </header>

    <main class="container mx-auto px-5 py-12">
      <!-- Mobile Filter Button -->
      <div class="lg:hidden mb-6">
        <button id="mobileFilterBtn" class="px-5 py-2 bg-black text-white rounded shadow-md hover:bg-gray-900 transition">
          Filters
        </button>
      </div>

      <div class="flex gap-6">
        <!-- Filters Sidebar -->
        <aside id="filterSidebar" class="fixed inset-y-0 left-0 w-64 bg-white p-5 shadow-lg transform -translate-x-full transition-transform duration-300 ease-in-out z-50 overflow-y-auto lg:static lg:translate-x-0 lg:block">
          <h4 class="font-semibold mb-5 text-xl tracking-wide">Filters</h4>
          <div class="flex flex-col gap-3">
            <button class="filterBtn text-left px-4 py-2 rounded hover:bg-gray-100 transition-colors" data-filter="all">All</button>
            <button class="filterBtn text-left px-4 py-2 rounded hover:bg-gray-100 transition-colors" data-filter="womens-cloth">Women's Cloth</button>
            <button class="filterBtn text-left px-4 py-2 rounded hover:bg-gray-100 transition-colors" data-filter="mens-cloth">Men's Cloth</button>
            <button class="filterBtn text-left px-4 py-2 rounded hover:bg-gray-100 transition-colors" data-filter="mens-accessories">Men's Accessories</button>
            <button class="filterBtn text-left px-4 py-2 rounded hover:bg-gray-100 transition-colors" data-filter="perfumes">Perfumes</button>
            <button class="filterBtn text-left px-4 py-2 rounded hover:bg-gray-100 transition-colors" data-filter="womens-accessories">Women's Accessories</button>
          </div>
        </aside>

        <!-- Products Grid -->
        <section class="flex-1">
          <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6" id="shopGrid">
            <!-- Products injected by JS -->
          </div>
        </section>
      </div>

      <!-- Overlay for mobile filter sidebar -->
      <div id="overlay" class="fixed inset-0 bg-black bg-opacity-40 hidden z-40 lg:hidden"></div>
    </main>

    <script>
      /* =========================
         MASTER PRODUCT LIST (unchanged)
         ========================= */
      const PRODUCTS = [
  { id: 1, title: 'White and Black Body con Gown', price: 12000, category: 'womens-cloth', img: 'assets/t.jpg' },
  { id: 2, title: 'Orange Gown', price: 11200, category: 'womens-cloth', img: 'assets/v.jpg' },
  { id: 3, title: 'Wine Gown', price: 10000, category: 'womens-cloth', img: 'assets/l.jpg' },
  { id: 4, title: 'Red Fled', price: 5000, category: 'womens-cloth', img: 'assets/d.jpg' },
  { id: 5, title: 'Elegant Dress', price: 6700, category: 'womens-cloth', img: 'assets/e.jpg' },
  { id: 6, title: 'Yellow SunDress', price: 8600, category: 'womens-cloth', img: 'assets/u.jpg' },
  { id: 7, title: 'Red SunDress with Split', price: 10600, category: 'womens-cloth', img: 'assets/y.jpg' },
  { id: 8, title: 'Deep Blue Gown', price: 5400, category: 'womens-cloth', img: 'assets/m.jpg' },
  { id: 9, title: 'Black Coorperate Gown', price: 1200, category: 'womens-cloth', img: 'assets/f.jpg' },
  { id: 10, title: 'Casual Top', price: 6000, category: 'womens-cloth', img: 'assets/w.jpg' },
  { id: 11, title: 'Classic Shirt', price: 8000, category: 'mens-cloth', img: 'assets/me.jpg' },
  { id: 12, title: 'Blue Dress', price: 9300, category: 'womens-cloth', img: 'assets/k.jpg' },
  { id: 13, title: 'College Jacket', price: 9000, category: 'mens-cloth', img: 'assets/me2.jpg' },
  { id: 14, title: 'Yellow Gown', price: 6500, category: 'womens-cloth', img: 'assets/a.jpg' },
  { id: 15, title: 'Leather Wallet', price: 40, category: 'accessories', img: 'assets/leather-wallet.jpg' },
  { id: 16, title: 'Complete Mens Accessory Box', price: 25250, category: 'mens-accessories', img: 'assets/ass.jpg' },
  { id: 17, title: 'Floral Perfume', price: 11000, category: 'perfumes', img: 'assets/armani-stronger-with-you.jpg' },
  { id: 18, title: 'Straight Office Gown', price: 1200, category: 'womens-cloth', img: 'assets/1.jpg' },
  { id: 19, title: 'Citrus Scent', price: 9500, category: 'perfumes', img: 'assets/chanel-bleu-de-chanel.jpg' },
  { id: 20, title: 'Citrus Scent', price: 9255, category: 'perfumes', img: 'assets/chanel-coco-mademoiselle.jpg' },
  { id: 21, title: 'Body Con Gown', price: 16700, category: 'womens-cloth', img: 'assets/q.jpg' },
  { id: 22, title: 'Citrus Scent', price: 5590, category: 'perfumes', img: 'assets/dior-sauvage.jpg' },
  { id: 23, title: 'Citrus Scent', price: 4500, category: 'perfumes', img: 'assets/gucci-guilty-essence-pour-homme.jpg' },
  { id: 24, title: 'Citrus Scent', price: 7355, category: 'perfumes', img: 'assets/hugo-boss-boss-bottled-night.jpg' },
  { id: 25, title: 'Citrus Scent', price: 7300, category: 'perfumes', img: 'assets/yves-saint-laurent-black-opium.jpg' },
  { id: 26, title: 'Office Gown', price: 12000, category: 'womens-cloth', img: 'assets/r.jpg' },
  { id: 27, title: 'Citrus Scent', price: 6500, category: 'perfumes', img: 'assets/yves-saint-laurent-libre.jpg' },
  { id: 28, title: 'Complete Men Dress', price: 9000, category: 'mens-cloth', img: 'assets/me3.jpg' },
  { id: 29, title: 'Complete Men Dress', price: 9000, category: 'mens-cloth', img: 'assets/me4.jpg' },
  { id: 30, title: 'Denim Jeans', price: 7000, category: 'mens-cloth', img: 'assets/me5.jpg' },
  { id: 31, title: 'Denim Jeans', price: 6500, category: 'mens-cloth', img: 'assets/me6.jpg' },
  { id: 32, title: 'Denim Jeans', price: 9200, category: 'mens-cloth', img: 'assets/me7.jpg' },
  { id: 33, title: 'Denim Jeans', price: 9300, category: 'mens-cloth', img: 'assets/me8.jpg' },
  { id: 34, title: 'Mens Complete Suit', price: 90000, category: 'mens-cloth', img: 'assets/me9.jpg' },
  { id: 35, title: 'Denim Jeans', price: 6500, category: 'mens-cloth', img: 'assets/me10.jpg' },
  { id: 36, title: 'Denim Jeans', price: 7300, category: 'mens-cloth', img: 'assets/me11.jpg' },
  { id: 37, title: 'Denim Jeans', price: 6945, category: 'mens-cloth', img: 'assets/me12.jpg' },
  { id: 38, title: 'Denim Jeans', price: 6000, category: 'mens-cloth', img: 'assets/me13.jpg' },
  { id: 39, title: 'Denim Jeans', price: 9000, category: 'mens-cloth', img: 'assets/me14.jpg' },
  { id: 40, title: 'Denim Jeans', price: 9140, category: 'mens-cloth', img: 'assets/me15.jpg' },
  { id: 41, title: 'Sunglasses', price: 7200, category: 'mens-accessories', img: 'assets/ass2.jpg' },
  { id: 42, title: 'Sunglasses', price: 7600, category: 'mens-accessories', img: 'assets/ass3.jpg' },
  { id: 43, title: 'Sunglasses', price: 4500, category: 'mens-accessories', img: 'assets/ass4.jpg' },
  { id: 44, title: 'Sunglasses', price: 7570, category: 'mens-accessories', img: 'assets/ass5.jpg' },
  { id: 45, title: 'Sunglasses', price: 7200, category: 'mens-accessories', img: 'assets/ass6.jpg' },
  { id: 46, title: 'Sunglasses', price: 4650, category: 'mens-accessories', img: 'assets/ass7.jpg' },
  { id: 47, title: 'Sunglasses', price: 3500, category: 'mens-accessories', img: 'assets/ass8.jpg' },
  { id: 48, title: 'Sunglasses', price: 7600, category: 'mens-accessories', img: 'assets/ass9.jpg' },
  { id: 49, title: 'Sunglasses', price: 4970, category: 'mens-accessories', img: 'assets/ass10.jpg' },
  { id: 50, title: 'Sunglasses', price: 7200, category: 'mens-accessories', img: 'assets/ass11.jpg' },
  { id: 51, title: 'Sunglasses', price: 7700, category: 'mens-accessories', img: 'assets/ass12.jpg' },
  { id: 52, title: 'Sunglasses', price: 6700, category: 'mens-accessories', img: 'assets/ass13.jpg' },
  { id: 53, title: 'Sunglasses', price: 3000, category: 'mens-accessories', img: 'assets/ass14.jpg' },
  { id: 54, title: 'Sunglasses', price: 7000, category: 'mens-accessories', img: 'assets/ass15.jpg' },
  { id: 55, title: 'Sunglasses', price: 3600, category: 'mens-accessories', img: 'assets/ass16.jpg' },
  { id: 56, title: 'Sunglasses', price: 8900, category: 'mens-accessories', img: 'assets/ass17.jpg' },
  { id: 57, title: 'Sunglasses', price: 8800, category: 'mens-accessories', img: 'assets/ass18.jpg' },
  { id: 58, title: 'Sunglasses', price: 2570, category: 'mens-accessories', img: 'assets/ass19.jpg' },
  { id: 59, title: 'Sunglasses', price: 7009, category: 'mens-accessories', img: 'assets/ass20.jpg' },
  { id: 60, title: 'Sunglasses', price: 7600, category: 'womens-accessories', img: 'assets/wom.jpg' },
  { id: 61, title: 'Sunglasses', price: 7008, category: 'womens-accessories', img: 'assets/wom2.jpg' },
  { id: 62, title: 'Sunglasses', price: 3000, category: 'womens-accessories', img: 'assets/wom3.jpg' },
  { id: 63, title: 'Sunglasses', price: 4300, category: 'womens-accessories', img: 'assets/wom4.jpg' },
  { id: 64, title: 'Sunglasses', price: 6700, category: 'womens-accessories', img: 'assets/wom5.jpg' },
  { id: 65, title: 'Sunglasses', price: 5460, category: 'womens-accessories', img: 'assets/wom6.jpg' },
  { id: 66, title: 'Sunglasses', price: 7200, category: 'womens-accessories', img: 'assets/wom7.jpg' },
  { id: 67, title: 'Sunglasses', price: 7000, category: 'womens-accessories', img: 'assets/wom8.jpg' },
  { id: 68, title: 'Sunglasses', price: 12300, category: 'womens-accessories', img: 'assets/wom9.jpg' },
  { id: 69, title: 'Sunglasses', price: 7450, category: 'womens-accessories', img: 'assets/wom10.jpg' },
  { id: 70, title: 'Sunglasses', price: 11600, category: 'womens-accessories', img: 'assets/wom11.jpg' },
  { id: 71, title: 'Sunglasses', price: 9350, category: 'womens-accessories', img: 'assets/wom12.jpg' },
  { id: 72, title: 'Sunglasses', price: 3450, category: 'womens-accessories', img: 'assets/wom13.jpg' },
  { id: 73, title: 'Sunglasses', price: 7490, category: 'womens-accessories', img: 'assets/wom14.jpg' },
  { id: 74, title: 'Sunglasses', price: 7000, category: 'womens-accessories', img: 'assets/wom15.jpg' },
];

      /* =========================
         UTILS
         ========================= */
      function shuffleArray(arr) {
        const a = arr.slice(); // copy so master list is intact
        for (let i = a.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [a[i], a[j]] = [a[j], a[i]];
        }
        return a;
      }

      /* =========================
         CART (unchanged logic)
         ========================= */
      function getCart() {
        return JSON.parse(localStorage.getItem('cart||demo') || '[]');
      }
      function saveCart(cart) {
        localStorage.setItem('cart||demo', JSON.stringify(cart));
        updateCartCount();
      }
      function addToCart(id) {
        const product = PRODUCTS.find((p) => p.id === id);
        if (!product) return;
        const cart = getCart();
        const existing = cart.find((i) => i.id === id);
        if (existing) {
          existing.qty += 1;
        } else {
          cart.push({ ...product, qty: 1 });
        }
        saveCart(cart);
      }
      function updateCartCount() {
        const cart = getCart();
        const totalQty = cart.reduce((acc, item) => acc + item.qty, 0);
        const cartCount2 = document.getElementById('cartCount2');
        if (cartCount2) cartCount2.textContent = totalQty;
      }
      updateCartCount();

      /* =========================
         DOM LOGIC: render + filters
         ========================= */
      document.addEventListener('DOMContentLoaded', () => {
        const shopGrid = document.getElementById('shopGrid');
        const filterButtons = document.querySelectorAll('.filterBtn');
        const mobileFilterBtn = document.getElementById('mobileFilterBtn');
        const filterSidebar = document.getElementById('filterSidebar');
        const overlay = document.getElementById('overlay');

        function renderProducts(products) {
          if (!shopGrid) return;
          if (!products || products.length === 0) {
            shopGrid.innerHTML = '<p class="text-gray-500 col-span-full text-center">No products found.</p>';
            return;
          }

          shopGrid.innerHTML = products
            .map(
              (p) => `
            <div class="product-card bg-white rounded-lg p-3 shadow-sm hover:shadow-lg hover:scale-[1.02] transition-transform duration-200">
              <a href="product.html?pid=${p.id}" class="block">
                <div class="aspect-[1/1] rounded overflow-hidden">
                  <img src="${p.img}" alt="${p.title}" class="object-cover w-full h-full hover:opacity-90 transition-opacity duration-200" />
                </div>
                <h3 class="mt-3 text-sm font-medium text-gray-900">${p.title}</h3>
                <div class="mt-1 text-sm text-gray-600 font-semibold">â‚¦${p.price}</div>
              </a>
              <div class="mt-3">
                <button class="addBtn w-full px-3 py-2 bg-black text-white text-sm rounded hover:bg-gray-800 transition-colors" data-id="${p.id}">Add</button>
              </div>
            </div>
          `
            )
            .join('');
        }

        // Initial render: shuffled
        renderProducts(shuffleArray(PRODUCTS));

        // Filter behavior
        filterButtons.forEach((button) => {
          button.addEventListener('click', () => {
            const category = button.getAttribute('data-filter');

            // active styling
            filterButtons.forEach((btn) => btn.classList.remove('active'));
            button.classList.add('active');

            if (category === 'all') {
              renderProducts(shuffleArray(PRODUCTS));
            } else {
              const filtered = PRODUCTS.filter((p) => p.category === category);
              renderProducts(shuffleArray(filtered)); // shuffle filtered set too
            }

            if (window.innerWidth < 1024) closeFilterSidebar();
          });
        });

        // Delegate clicks for Add and cart
        document.addEventListener('click', (e) => {
          const el = e.target;
          if (el.classList.contains('addBtn')) {
            const id = parseInt(el.getAttribute('data-id'), 10);
            addToCart(id);
            el.textContent = 'Added';
            setTimeout(() => (el.textContent = 'Add'), 900);
          }
          if (el.id === 'cartBtn2') window.location.href = 'cart.html';
        });

        // Mobile sidebar controls
        function openFilterSidebar() {
          filterSidebar.classList.remove('-translate-x-full');
          overlay.classList.remove('hidden');
          document.body.style.overflow = 'hidden';
        }
        function closeFilterSidebar() {
          filterSidebar.classList.add('-translate-x-full');
          overlay.classList.add('hidden');
          document.body.style.overflow = '';
        }

        mobileFilterBtn.addEventListener('click', openFilterSidebar);
        overlay.addEventListener('click', closeFilterSidebar);

        // If user resizes to desktop, close mobile sidebar
        window.addEventListener('resize', () => {
          if (window.innerWidth >= 1024) closeFilterSidebar();
        });

        // set initial active filter
        if (filterButtons.length) filterButtons[0].classList.add('active');
      });
    </script>
  </body>
</html>